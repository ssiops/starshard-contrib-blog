function contentCtrl($scope,$window,$http,$alertService){$scope.newComment="",$scope.err={},$scope.comments=[],$scope.remove=function(){$http.delete("/blog/archive/"+$scope.displaytitle).success(function(data,status){return 204==status?$window.location.href="/blog":void 0})},$scope.getPosts=function(){$http.get("/blog/archive",{params:{l:3}}).success(function(data){angular.element($window.document.getElementById("other-posts-loading")).remove(),data.list&&($scope.otherposts=data.list),data.msg&&$alertService.send(data.msg)})},$scope.getComments=function(){$http.get("/blog/archive/"+$scope.displaytitle+"/comments").success(function(data){angular.element($window.document.getElementById("comments-loading")).remove(),data.comments&&($scope.comments=data.comments),data.msg&&$alertService.send(data.msg)})},$scope.postComment=function(){return $scope.err={},$scope.newComment.length<1?$scope.err.comment=!0:void $http.put("/blog/archive/"+$scope.displaytitle+"/comments",{content:$scope.newComment}).success(function(data){data.comment&&$scope.comments.push(data.comment),data.msg&&$alertService.send(data.msg)})},$scope.removeComment=function($index){$http.delete("/blog/archive/"+$scope.displaytitle+"/comments/"+$scope.comments[$index]._id).success(function(data,status){202==status&&$scope.comments.splice($index,1),$alertService.send({msg:"The comment was successfully removed.",style:"success"}),data.msg&&$alertService.send(data.msg)})}}